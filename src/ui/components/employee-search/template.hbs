<div class='card search'>
  <h1>
    Employee Directory
  </h1>

  <div class='search-controls'>
    <form onSubmit={{action search}}>
      <div class="col-md-6">
        <div class='form-group'>
          <input type='search' class='form-control' placeholder="First Name" value={{query.firstNamePrefix}} oninput={{action updateInput query 'firstNamePrefix'}} />
        </div>
        <div class='form-group'>
          <input type='search' class='form-control' placeholder="Last Name" value={{query.lastNamePrefix}} oninput={{action updateInput query 'lastNamePrefix'}} />
        </div>
      </div>
      <div class="col-md-6">
        <button class="btn btn-lg btn-primary pull-right" type="submit">Search</button>

        <p class='pull-right'>
          Total: {{totalCount}}

          {{#if hasPrevPage}}
            <a onclick={{action paginate true}}>&laquo; Prev</a>
          {{/if}}

          {{#if hasNextPage}}
            <a onclick={{action paginate}}>Next &raquo;</a>
          {{/if}}
        </p>
      </div>
    </form>
  </div>

  <table class='table'>
    <thead>
      <tr>
        <th>
          <a onclick={{action doSort 'name'}}>Name</a>
        </th>
        <th>
          <a onclick={{action doSort 'age'}}>Age</a>
        </th>
        <th>
          <a onclick={{action doSort 'positions.title'}}>Title</a>
        </th>
        <th>
          <a onclick={{action doSort 'department.name'}}>Department</a>
        </th>
      </tr>
    </thead>

    <tbody>
      {{#each employees key="@index" as |employee|}}
        <tr>
          <td>
            <a onclick={{action selectEmployee employee}}>
              {{employee.fullName}}
            </a>
          </td>
          <td>{{employee.age}}</td>
          <td>{{employee.currentPosition.title}}</td>
          <td>{{employee.currentPosition.department.name}}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>
